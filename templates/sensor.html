<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Sensors Info</title>
</head>
<body>
<a style="margin-left:90%;" href="/logout">
    <button class="btn btn-primary btn-md">Logout</button>
  </a><br>
<div style="margin-top:2%">
  <h6>{{ sensor_info.name }} Sensor Info : </h6>
        {% if sensor_info %}

<table class="data">
  <tr>
    <th>Sensor Id</th>
    <th>Status</th>
      <th>Battery Level (%)</th>
      <th>Location</th>
      <th>Model</th>
      <th>Software Version</th>

  </tr>

  {% for row in sensor_info %}
  <tr>
    <td>{{row.name}}</td>
    <td>{{row.status}}</td>
      <td>{{row.battery_level_percentage}}</td>
      <td>{{row.location}}</td>
      <td>{{row.model}}</td>
      <td>{{row.software_version}}</td>

  </tr>
   {% endfor %}
</table>
    <br>

    {% endif %}
</div>


<div style="margin-top:2%">
  <h6>TimeStamp : </h6>
        {% if sensor_data %}

<table class="data">
  <tr>
    <th>Sensor Id</th>
    <th>TimeStamp</th>
      <th>Value</th>
  </tr>

  {% for row in sensor_data %}
  <tr>
    <td>{{row.sensorId}}</td>
    <td>{{row.time_stamp}}</td>
    {% for data in sensor_info %}
    {% set val = row.value | int %}
    {% if val >= data.threshold %}
      <td style="color:red">{{row.value}}</td>
    {% else %}
     <td>{{row.value}}</td>
    {% endif %}
    {% endfor %}


  </tr>
   {% endfor %}
</table>
    <br>

    {% endif %}
</div>

<div>
  <h6>Configured Threshold Value :</h6>
  <table class="data">
  <tr>
    <th>Sensor Id</th>
      <th>Value</th>
  </tr>

  {% for row in sensor_info %}
  <tr>
    <td>{{row.name}}</td>
      <td>{{row.threshold}}</td>
  </tr>
   {% endfor %}
</table>
</div>


</body>
</html>