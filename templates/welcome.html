<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Homepage</title>

</head>
<body>

<a style="margin-left:90%" href="/logout">
    <button class="btn btn-primary btn-md">Logout</button>
  </a><br>
<div>
    <form class = "form" method="get" action="/show_project">
    <label>Select Project</label><br>
                  <select style="-webkit-appearance: checkbox!important; width:20%;" name="project" class="form-control" id="projects">
                      <option value="1">Project A</option>
                      <option value="2">Project B</option>
                      <option value="3">Project C</option>
                      <option value="4">All Projects</option>

                   </select>
                      <input type="submit" style="margin:2% 5%; width:10%" class="btn btn-primary btn-md" value="Show Project">
    </form>
<form class = "form" method="get" action="/device">
    <input type="submit" style="margin:2% 5%; width:10%" class="btn btn-primary btn-md" value="Manage Devices">
    </form>
</div>
{% if project_data == None %}
<p style="color:red; margin-left:2%">Not authorized for this project</p>
{% endif %}
<div>
    {% if project_data %}
<table class="data">
  <tr>
    <th>Sensor Id</th>
    <th>Property</th>
      <th>TimeStamp</th>
      <th>Value</th>
  </tr>

  {% for row in project_data %}
  <tr>
    <td>{{row.sensorId}}</td>
    <td>{{row.property}}</td>
      <td>{{row.time_stamp}}</td>
      <td>{{row.value}}</td>
  </tr>
   {% endfor %}

</table><br>

    <form class = "form" method="get" action="/project_sensors">
    <label>Select Sensor</label><br>
                  <select style="-webkit-appearance: checkbox!important; width:20%;" name="sensor" class="form-control" id="sensors">
                      {% if project == "1" %}
                      <option value="TempA1">TempA1</option>
                      <option value="TempA2">TempA2</option>
                      <option value="MoistA1">MoistA1</option>
                      <option value="MoistA2">MoistA2</option>
                      <option value="LumA1">LumA1</option>
                      <option value="LumA2">LumA2</option>
                      {% endif %}
                      {% if project == "2" %}
                      <option value="TempB1">TempB1</option>
                      <option value="TempB2">TempB2</option>
                      <option value="MoistB1">MoistB1</option>
                      <option value="MoistB2">MoistB2</option>
                      <option value="LumB1">LumB1</option>
                      <option value="LumB2">LumB2</option>
                      {% endif %}
                      {% if project == "3" %}
                      <option value="TempC1">TempC1</option>
                      <option value="TempC2">TempC2</option>
                      <option value="MoistC1">MoistC1</option>
                      <option value="MoistC2">MoistC2</option>
                      <option value="LumC1">LumC1</option>
                      <option value="LumC2">LumC2</option>
                      {% endif %}
                      {% if project == "4" %}
                      <option value="TempA1">TempA1</option>
                      <option value="TempA2">TempA2</option>
                      <option value="MoistA1">MoistA1</option>
                      <option value="MoistA2">MoistA2</option>
                      <option value="LumA1">LumA1</option>
                      <option value="LumA2">LumA2</option>
                      <option value="TempB1">TempB1</option>
                      <option value="TempB2">TempB2</option>
                      <option value="MoistB1">MoistB1</option>
                      <option value="MoistB2">MoistB2</option>
                      <option value="LumB1">LumB1</option>
                      <option value="LumB2">LumB2</option>
                      <option value="TempC1">TempC1</option>
                      <option value="TempC2">TempC2</option>
                      <option value="MoistC1">MoistC1</option>
                      <option value="MoistC2">MoistC2</option>
                      <option value="LumC1">LumC1</option>
                      <option value="LumC2">LumC2</option>
                      {% endif %}
                   </select>
                      <input type="submit" style="margin:2% 4%; width:12%" class="btn btn-primary btn-md" value="Show Sensor Info">
    </form>


        {% endif %}

</div>

<script>

        var projectSelected = {{ project }}

        document.getElementById("projects").options.selectedIndex = projectSelected-1


    </script>


</body>
</html>